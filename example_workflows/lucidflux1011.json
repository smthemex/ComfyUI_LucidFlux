{
  "id": "6e50dd9c-3346-49b3-b8fe-69c77b45da78",
  "revision": 0,
  "last_node_id": 43,
  "last_link_id": 88,
  "nodes": [
    {
      "id": 28,
      "type": "CheckpointLoaderSimple",
      "pos": [
        955.4044799804688,
        -35.34019088745117
      ],
      "size": [
        270,
        98
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": []
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": []
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "flux1-dev-fp8.safetensors"
      ]
    },
    {
      "id": 8,
      "type": "DualCLIPLoader",
      "pos": [
        630.3765869140625,
        14.808533668518066
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            59
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DualCLIPLoader"
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn.safetensors",
        "flux",
        "default"
      ]
    },
    {
      "id": 24,
      "type": "VAELoader",
      "pos": [
        1923.68359375,
        -12.729696273803711
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            60
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        959.9752807617188,
        135.83877563476562
      ],
      "size": [
        210,
        115
      ],
      "flags": {},
      "order": 8,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 59
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": []
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "restore this image into high-quality, clean, high-resolution result"
      ]
    },
    {
      "id": 1,
      "type": "LucidFlux_SM_Model",
      "pos": [
        1245.7091064453125,
        -3.9737699031829834
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "cf_model",
          "shape": 7,
          "type": "MODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "LucidFlux_SM",
          "type": "LucidFlux_SM",
          "links": [
            69
          ]
        },
        {
          "name": "LucidFlux_SD",
          "type": "LucidFlux_SD",
          "links": [
            81
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_Model"
      },
      "widgets_values": [
        "lucidflux.pth",
        "flux1-kj-dev-fp8.safetensors"
      ]
    },
    {
      "id": 9,
      "type": "CLIPVisionLoader",
      "pos": [
        1244.3853759765625,
        144.80416870117188
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            82
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "siglip2-so400m-patch16-512.safetensors"
      ]
    },
    {
      "id": 40,
      "type": "LucidFlux_SM_Encode",
      "pos": [
        1601.5631103515625,
        154.61138916015625
      ],
      "size": [
        270,
        118
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "state_dict",
          "type": "LucidFlux_SD",
          "link": 81
        },
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "link": 82
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 86
        },
        {
          "name": "positive",
          "shape": 7,
          "type": "CONDITIONING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "condition",
          "type": "CONDITIONING",
          "links": [
            84
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_Encode"
      },
      "widgets_values": [
        "prompt_embeddings.pt"
      ]
    },
    {
      "id": 34,
      "type": "LucidFlux_SM_Cond",
      "pos": [
        1614.508056640625,
        -29.912227630615234
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "LucidFlux_SM",
          "link": 69
        }
      ],
      "outputs": [
        {
          "name": "LucidFlux_SM",
          "type": "LucidFlux_SM",
          "links": [
            70
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_Cond"
      },
      "widgets_values": [
        "flux-turbo.safetensors",
        "none",
        1,
        1
      ]
    },
    {
      "id": 31,
      "type": "LucidFlux_SM_KSampler",
      "pos": [
        1880.2340087890625,
        149.29428100585938
      ],
      "size": [
        270,
        194
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "LucidFlux_SM",
          "link": 70
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 60
        },
        {
          "name": "condition",
          "type": "CONDITIONING",
          "link": 84
        }
      ],
      "outputs": [
        {
          "name": "Image",
          "type": "IMAGE",
          "links": [
            58
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_KSampler"
      },
      "widgets_values": [
        8,
        774859650,
        "randomize",
        4,
        true
      ]
    },
    {
      "id": 37,
      "type": "LucidFlux_SM_Diffbir",
      "pos": [
        1269.947998046875,
        256.2774353027344
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 10,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "LucidFlux_SM_diff",
          "link": 75
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 76
        }
      ],
      "outputs": [
        {
          "name": "Image",
          "type": "IMAGE",
          "links": [
            78
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_Diffbir"
      },
      "widgets_values": [
        1024,
        1024
      ]
    },
    {
      "id": 36,
      "type": "LucidFlux_SM_Diff_Model",
      "pos": [
        667.47314453125,
        247.47821044921875
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 5,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "LucidFlux_SM_diff",
          "type": "LucidFlux_SM_diff",
          "links": [
            75
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "LucidFlux_SM_Diff_Model"
      },
      "widgets_values": [
        "sd2.1-base-zsnr-laionaes5.ckpt",
        "unaligned_face"
      ]
    },
    {
      "id": 41,
      "type": "ImageBlur",
      "pos": [
        1593.6881103515625,
        316.78216552734375
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 88
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            86,
            87
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlur"
      },
      "widgets_values": [
        1,
        1
      ]
    },
    {
      "id": 5,
      "type": "LoadImage",
      "pos": [
        306.2716979980469,
        409.0683898925781
      ],
      "size": [
        406.7806701660156,
        482.0671081542969
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            76
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (1).png",
        "image"
      ]
    },
    {
      "id": 38,
      "type": "PreviewImage",
      "pos": [
        732.3981323242188,
        436.0823669433594
      ],
      "size": [
        499.508056640625,
        432.97503662109375
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 78
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 25,
      "type": "SaveImage",
      "pos": [
        2344.44482421875,
        81.33345031738281
      ],
      "size": [
        937.0341796875,
        793.4863891601562
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 58
        }
      ],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 43,
      "type": "LoadImage",
      "pos": [
        1338.237060546875,
        449.4285583496094
      ],
      "size": [
        406.7806701660156,
        482.0671081542969
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            88
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "pasted/image (2).png",
        "image"
      ]
    },
    {
      "id": 42,
      "type": "PreviewImage",
      "pos": [
        1762.1036376953125,
        461.5672302246094
      ],
      "size": [
        520.6141967773438,
        478.749267578125
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 87
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    }
  ],
  "links": [
    [
      58,
      31,
      0,
      25,
      0,
      "IMAGE"
    ],
    [
      59,
      8,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      60,
      24,
      0,
      31,
      1,
      "VAE"
    ],
    [
      69,
      1,
      0,
      34,
      0,
      "LucidFlux_SM"
    ],
    [
      70,
      34,
      0,
      31,
      0,
      "LucidFlux_SM"
    ],
    [
      75,
      36,
      0,
      37,
      0,
      "LucidFlux_SM_diff"
    ],
    [
      76,
      5,
      0,
      37,
      1,
      "IMAGE"
    ],
    [
      78,
      37,
      0,
      38,
      0,
      "IMAGE"
    ],
    [
      81,
      1,
      1,
      40,
      0,
      "LucidFlux_SD"
    ],
    [
      82,
      9,
      0,
      40,
      1,
      "CLIP_VISION"
    ],
    [
      84,
      40,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      86,
      41,
      0,
      40,
      2,
      "IMAGE"
    ],
    [
      87,
      41,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      88,
      43,
      0,
      41,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Group",
      "bounding": [
        630.3541870117188,
        -91.60552215576172,
        1539.6795654296875,
        772.519287109375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5730855330116973,
      "offset": [
        -151.39797770595132,
        244.07732990412632
      ]
    },
    "frontendVersion": "1.26.13",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}